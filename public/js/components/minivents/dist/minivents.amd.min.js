define([],function(){return function(n){var t,f,i,e={},o=[];n=n||this,n.on=function(n,t,f){(e[n]=e[n]||[]).push([t,f])},n.off=function(n,f){for(n||(e={}),t=e[n]||o,i=t.length=f?t.length:0;i--;)f==t[i][0]&&t.splice(i,1)},n.emit=function(n){for(t=e[n]||o,i=0;f=t[i++];)f[0].apply(f[1],o.slice.call(arguments,1))}}});